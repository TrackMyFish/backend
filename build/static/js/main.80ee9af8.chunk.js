(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{23:function(e,t){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(10),r=a.n(n),o=(a(30),a(52),a(53),a(23)),l=(a.n(o).a,a(7)),i=(a(54),a(2)),d=Object(l.a)((function(){return Object(i.jsx)(f,{})})),b=a(24),h=a(3),u=a(8),m=a.n(u),j=a(9),p=new function e(){var t=this;Object(b.a)(this,e),this.rootState={fish:[],heartbeat:{fishbase:{status:""}},error:null},this.heartbeat=function(){m()({method:"get",headers:{"Content-Type":"application/json"},url:j.server.baseURL+"/heartbeat"}).then((function(e){Object(h.o)((function(){var a,s;t.rootState.heartbeat.fishbase.status=null===e||void 0===e||null===(a=e.data)||void 0===a||null===(s=a.fishbase)||void 0===s?void 0:s.status}))})).catch((function(e){var t;console.log(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},this.listFish=function(){m()({method:"get",headers:{"Content-Type":"application/json"},url:j.server.baseURL+"/fish"}).then((function(e){Object(h.o)((function(){t.rootState.fish=e.data.fish}))})).catch((function(e){var t;console.log(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},this.addFish=function(e){var a=e.genus,s=e.species,c=e.commonName,n=e.name,r=e.color,o=e.gender,l=e.purchaseDate,i=e.count;""===o&&(o="UNSPECIFIED"),m()({method:"post",headers:{"Content-Type":"application/json"},url:j.server.baseURL+"/fish",data:{genus:a,species:s,commonName:c,name:n,color:r,gender:o.toUpperCase(),purchaseDate:l,count:i}}).then((function(e){Object(h.o)((function(){var a;t.rootState.fish.push(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.fish)}))})).catch((function(e){Object(h.o)((function(){var a,s;console.log(e),t.rootState.error=null===e||void 0===e||null===(a=e.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message}))}))},this.removeFish=function(e){m()({method:"delete",headers:{"Content-Type":"application/json"},url:j.server.baseURL+"/fish/"+e}).then((function(){Object(h.o)((function(){t.rootState.fish=t.rootState.fish.filter((function(t){return t.id!==e}))}))})).catch((function(e){Object(h.o)((function(){var a,s;console.log(e),t.rootState.error=null===e||void 0===e||null===(a=e.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message}))}))},Object(h.l)(this)},v=c.a.createContext(p),f=Object(l.a)((function(){var e=Object(s.useContext)(v),t=e.rootState,a=e.heartbeat,c=e.listFish,n=e.addFish,r=e.removeFish;Object(s.useEffect)((function(){c(),a()}),[t]);var o=t.heartbeat.fishbase.status.toLowerCase();return Object(i.jsxs)("div",{children:[Object(i.jsx)(O,{}),Object(i.jsx)("div",{className:"mt-3 mb-3"}),o&&Object(i.jsxs)("div",{className:"container",children:[Object(i.jsxs)("div",{className:"alert alert-danger alert-dismissible",role:"alert",children:[Object(i.jsx)("h4",{className:"alert-heading",children:"Fishbase Down"}),Object(i.jsx)("p",{children:"Fishbase appears to be down, meaning certain functions such as the auto-population of the Ecosystem information will not be completed."}),Object(i.jsx)("hr",{}),Object(i.jsxs)("p",{className:"mb-0",children:["This is unlikely to be an issue with TrackMyFish and you should check the"," ",Object(i.jsx)("a",{href:"https://fishbase.ropensci.org/",class:"alert-link",children:"Fishbase API"})," ","for further details."]}),Object(i.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]}),Object(i.jsx)("div",{className:"mt-3 mb-3"})]}),Object(i.jsx)(g,{fish:t.fish,addFish:n,removeFish:r})]})})),O=function(){return Object(i.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light",style:{backgroundColor:"#d7ecd9"},children:Object(i.jsxs)("div",{className:"container-fluid",children:[Object(i.jsx)("a",{className:"navbar-brand",href:"/home",children:"TrackMyFish"}),Object(i.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(i.jsx)("span",{className:"navbar-toggler-icon"})}),Object(i.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(i.jsx)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:Object(i.jsxs)("li",{className:"nav-item dropdown",children:[Object(i.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Useful Links"}),Object(i.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:Object(i.jsx)("li",{children:Object(i.jsx)("a",{className:"dropdown-item",href:"https://www.fishbase.de/",children:"Fishbase"})})})]})})})]})})},x=a(6),N=a(25),g=(a(77),Object(l.a)((function(e){var t=Object(s.useState)(""),a=Object(x.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(""),o=Object(x.a)(r,2),l=o[0],d=o[1],b=Object(s.useState)(""),h=Object(x.a)(b,2),u=h[0],m=h[1],j=Object(s.useState)(""),p=Object(x.a)(j,2),v=p[0],f=p[1],O=Object(s.useState)(""),g=Object(x.a)(O,2),C=g[0],y=g[1],F=Object(s.useState)(""),S=Object(x.a)(F,2),w=S[0],D=S[1],H=Object(s.useState)(""),k=Object(x.a)(H,2),T=k[0],L=k[1],U=Object(s.useState)(0),E=Object(x.a)(U,2),G=E[0],P=E[1],I=Object(s.useState)(""),R=Object(x.a)(I,2),J=R[0],A=R[1],B=e.fishError||J;return Object(i.jsxs)("div",{className:"container-fluid",children:[Object(i.jsx)("h3",{className:"text-center",children:"Fish"}),Object(i.jsx)(N.a,{data:e.fish,sortable:!0,pageSize:e.fish.length,columns:[{Header:"ID",accessor:"id",headerClassName:"text-start"},{Header:"Genus",accessor:"genus",headerClassName:"text-start"},{Header:"Species",accessor:"species",headerClassName:"text-start"},{Header:"Common Name",accessor:"commonName",headerClassName:"text-start"},{Header:"Name",accessor:"name",headerClassName:"text-start"},{Header:"Color",accessor:"color",headerClassName:"text-start"},{Header:"Gender",accessor:"gender",headerClassName:"text-start",Cell:function(e){var t=e.value;return"UNSPECIFIED"==t?"":t}},{Header:"Purchase Date",accessor:"purchaseDate",headerClassName:"text-start"},{Header:"Ecosystem",columns:[{Header:"Name",accessor:"ecosystemName",headerClassName:"text-start"},{Header:"Type",accessor:"ecosystemType",headerClassName:"text-start"},{Header:"Location",accessor:"ecosystemLocation",headerClassName:"text-start"},{Header:"Salinity",accessor:"salinity",headerClassName:"text-start"},{Header:"Climate",accessor:"climate",headerClassName:"text-start"}]},{Header:"Count",accessor:"count",headerClassName:"text-start"},{className:"text-center",Cell:function(t){return Object(i.jsx)("button",{className:"btn btn-danger ml-2",onClick:function(){return e.removeFish(t.original.id)},children:"Remove"})}}]}),Object(i.jsx)("div",{className:"accordion",id:"create-fish-accordion",children:Object(i.jsxs)("div",{className:"accordion-item",children:[Object(i.jsx)("h2",{className:"accordion-header",id:"fish-heading",children:Object(i.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse-fish","aria-expanded":"false","aria-controls":"collapse-fish",children:"Add Fish"})}),Object(i.jsx)("div",{id:"collapse-fish",className:"accordion-collapse collapse","aria-labelledby":"fish-heading","data-bs-parent":"#create-fish-accordion",children:Object(i.jsxs)("div",{className:"accordion-body",children:[Object(i.jsxs)("form",{children:[Object(i.jsxs)("div",{className:"container-fluid ps-0 pe-0",children:[Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col",children:Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"inputGenus",className:"form-label",children:"Genus"}),Object(i.jsx)("input",{type:"text",className:"form-control",id:"inputGenus",onChange:function(e){return A("")||n(e.target.value)},value:c})]})}),Object(i.jsx)("div",{className:"col",children:Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"inputSpecies",className:"form-label",children:"Species"}),Object(i.jsx)("input",{type:"text",className:"form-control",id:"inputSpecies",onChange:function(e){return A("")||d(e.target.value)},value:l})]})})]}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col",children:Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"inputCommonName",className:"form-label",children:"Common Name"}),Object(i.jsx)("input",{type:"text",className:"form-control",id:"inputCommonName",onChange:function(e){return A("")||m(e.target.value)},value:u})]})}),Object(i.jsx)("div",{className:"col",children:Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"inputName",className:"form-label",children:"Name"}),Object(i.jsx)("input",{type:"text",className:"form-control",id:"inputName",onChange:function(e){return A("")||f(e.target.value)},value:v})]})})]}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col",children:Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"inputColor",className:"form-label",children:"Color"}),Object(i.jsx)("input",{type:"text",className:"form-control",id:"inputColor",onChange:function(e){return A("")||y(e.target.value)},value:C})]})}),Object(i.jsx)("div",{className:"col",children:Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"inputGender",className:"form-label",children:"Gender"}),Object(i.jsx)("input",{type:"text",className:"form-control",id:"inputGender",onChange:function(e){return A("")||D(e.target.value)},value:w})]})}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col",children:Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"inputPurchaseDate",className:"form-label",children:"Purchase Date"}),Object(i.jsx)("input",{type:"date",className:"form-control",id:"inputPurchaseDate",onChange:function(e){return A("")||L(e.target.value)},value:T})]})}),Object(i.jsx)("div",{className:"col",children:Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"inputCount",className:"form-label",children:"Count"}),Object(i.jsx)("input",{type:"number",className:"form-control",id:"inputCount",min:"0",onChange:function(e){return A("")||P(e.target.value)},value:G})]})})]})]})]}),Object(i.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(t){t.preventDefault();var a=w.toUpperCase();e.addFish({genus:c,species:l,commonName:u,name:v,color:C,gender:w,uppercaseGender:a,purchaseDate:T,count:G})},children:"Submit"})]}),B&&Object(i.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:B})]})})]})})]})}))),C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,79)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),s(e),c(e),n(e),r(e)}))};r.a.render(Object(i.jsx)(d,{}),document.getElementById("root")),C()},9:function(e){e.exports=JSON.parse('{"server":{"host":"localhost","port":8443,"baseURL":"/api/v1alpha1"}}')}},[[78,1,2]]]);
//# sourceMappingURL=main.80ee9af8.chunk.js.map