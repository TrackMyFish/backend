(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{23:function(e,a){},52:function(e,a,t){},53:function(e,a,t){},54:function(e,a,t){},78:function(e,a,t){"use strict";t.r(a);var s=t(1),c=t.n(s),n=t(10),r=t.n(n),o=(t(30),t(52),t(53),t(23)),l=(t.n(o).a,t(7)),i=(t(54),t(2)),d=Object(l.a)((function(){return Object(i.jsx)(f,{})})),b=t(24),h=t(3),u=t(8),m=t.n(u),j=t(9),p=new function e(){var a=this;Object(b.a)(this,e),this.rootState={fish:[],heartbeat:{fishbase:{status:""}},error:null},this.heartbeat=function(){m()({method:"get",headers:{"Content-Type":"application/json"},url:j.server.baseURL+"/heartbeat"}).then((function(e){Object(h.o)((function(){var t,s;a.rootState.heartbeat.fishbase.status=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(s=t.fishbase)||void 0===s?void 0:s.status}))})).catch((function(e){var a;console.log(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.data)}))},this.listFish=function(){m()({method:"get",headers:{"Content-Type":"application/json"},url:j.server.baseURL+"/fish"}).then((function(e){Object(h.o)((function(){a.rootState.fish=e.data.fish}))})).catch((function(e){var a;console.log(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.data)}))},this.addFish=function(e){var t=e.genus,s=e.species,c=e.commonName,n=e.name,r=e.color,o=e.gender,l=e.purchaseDate;m()({method:"post",headers:{"Content-Type":"application/json"},url:j.server.baseURL+"/fish",data:{genus:t,species:s,commonName:c,name:n,color:r,gender:o.toUpperCase(),purchaseDate:l}}).then((function(e){Object(h.o)((function(){var t;a.rootState.fish.push(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.fish)}))})).catch((function(e){Object(h.o)((function(){var t,s;console.log(e),a.rootState.error=null===e||void 0===e||null===(t=e.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message}))}))},this.removeFish=function(e){m()({method:"delete",headers:{"Content-Type":"application/json"},url:j.server.baseURL+"/fish/"+e}).then((function(){Object(h.o)((function(){a.rootState.fish=a.rootState.fish.filter((function(a){return a.id!==e}))}))})).catch((function(e){Object(h.o)((function(){var t,s;console.log(e),a.rootState.error=null===e||void 0===e||null===(t=e.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message}))}))},Object(h.l)(this)},v=c.a.createContext(p),f=Object(l.a)((function(){var e=Object(s.useContext)(v),a=e.rootState,t=e.heartbeat,c=e.listFish,n=e.addFish,r=e.removeFish;Object(s.useEffect)((function(){c(),t()}),[a]);var o=a.heartbeat.fishbase.status.toLowerCase();return Object(i.jsxs)("div",{children:[Object(i.jsx)(O,{}),Object(i.jsx)("div",{className:"mt-3 mb-3"}),o&&Object(i.jsxs)("div",{className:"container",children:[Object(i.jsxs)("div",{className:"alert alert-danger alert-dismissible",role:"alert",children:[Object(i.jsx)("h4",{className:"alert-heading",children:"Fishbase Down"}),Object(i.jsx)("p",{children:"Fishbase appears to be down, meaning certain functions such as the auto-population of the Ecosystem information will not be completed."}),Object(i.jsx)("hr",{}),Object(i.jsxs)("p",{className:"mb-0",children:["This is unlikely to be an issue with TrackMyFish and you should check the"," ",Object(i.jsx)("a",{href:"https://fishbase.ropensci.org/",class:"alert-link",children:"Fishbase API"})," ","for further details."]}),Object(i.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]}),Object(i.jsx)("div",{className:"mt-3 mb-3"})]}),Object(i.jsx)(g,{fish:a.fish,addFish:n,removeFish:r})]})})),O=function(){return Object(i.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light",style:{backgroundColor:"#d7ecd9"},children:Object(i.jsxs)("div",{className:"container-fluid",children:[Object(i.jsx)("a",{className:"navbar-brand",href:"/home",children:"TrackMyFish"}),Object(i.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(i.jsx)("span",{className:"navbar-toggler-icon"})}),Object(i.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(i.jsx)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:Object(i.jsxs)("li",{className:"nav-item dropdown",children:[Object(i.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Useful Links"}),Object(i.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:Object(i.jsx)("li",{children:Object(i.jsx)("a",{className:"dropdown-item",href:"https://www.fishbase.de/",children:"Fishbase"})})})]})})})]})})},x=t(6),N=t(25),g=(t(77),Object(l.a)((function(e){var a=Object(s.useState)(""),t=Object(x.a)(a,2),c=t[0],n=t[1],r=Object(s.useState)(""),o=Object(x.a)(r,2),l=o[0],d=o[1],b=Object(s.useState)(""),h=Object(x.a)(b,2),u=h[0],m=h[1],j=Object(s.useState)(""),p=Object(x.a)(j,2),v=p[0],f=p[1],O=Object(s.useState)(""),g=Object(x.a)(O,2),C=g[0],y=g[1],F=Object(s.useState)(""),S=Object(x.a)(F,2),w=S[0],H=S[1],D=Object(s.useState)(""),k=Object(x.a)(D,2),T=k[0],L=k[1],G=Object(s.useState)(""),U=Object(x.a)(G,2),P=U[0],R=U[1],E=e.fishError||P;return Object(i.jsxs)("div",{className:"container-fluid",children:[Object(i.jsx)("h3",{className:"text-center",children:"Fish"}),Object(i.jsx)(N.a,{data:e.fish,sortable:!0,pageSize:e.fish.length,columns:[{Header:"ID",accessor:"id",headerClassName:"text-start"},{Header:"Genus",accessor:"genus",headerClassName:"text-start"},{Header:"Species",accessor:"species",headerClassName:"text-start"},{Header:"Common Name",accessor:"commonName",headerClassName:"text-start"},{Header:"Name",accessor:"name",headerClassName:"text-start"},{Header:"Color",accessor:"color",headerClassName:"text-start"},{Header:"Gender",accessor:"gender",headerClassName:"text-start"},{Header:"Purchase Date",accessor:"purchaseDate",headerClassName:"text-start"},{Header:"Ecosystem",columns:[{Header:"Name",accessor:"ecosystemName",headerClassName:"text-start"},{Header:"Type",accessor:"ecosystemType",headerClassName:"text-start"},{Header:"Location",accessor:"ecosystemLocation",headerClassName:"text-start"},{Header:"Salinity",accessor:"salinity",headerClassName:"text-start"},{Header:"Climate",accessor:"climate",headerClassName:"text-start"}]},{className:"text-center",Cell:function(a){return Object(i.jsx)("button",{className:"btn btn-danger ml-2",onClick:function(){return e.removeFish(a.original.id)},children:"Remove"})}}]}),Object(i.jsx)("div",{className:"accordion",id:"create-fish-accordion",children:Object(i.jsxs)("div",{className:"accordion-item",children:[Object(i.jsx)("h2",{className:"accordion-header",id:"fish-heading",children:Object(i.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse-fish","aria-expanded":"false","aria-controls":"collapse-fish",children:"Add Fish"})}),Object(i.jsx)("div",{id:"collapse-fish",className:"accordion-collapse collapse","aria-labelledby":"fish-heading","data-bs-parent":"#create-fish-accordion",children:Object(i.jsxs)("div",{className:"accordion-body",children:[Object(i.jsxs)("form",{children:[Object(i.jsxs)("div",{className:"container-fluid ps-0 pe-0",children:[Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col",children:Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"inputGenus",className:"form-label",children:"Genus"}),Object(i.jsx)("input",{type:"text",className:"form-control",id:"inputGenus",onChange:function(e){return R("")||n(e.target.value)},value:c})]})}),Object(i.jsx)("div",{className:"col",children:Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"inputSpecies",className:"form-label",children:"Species"}),Object(i.jsx)("input",{type:"text",className:"form-control",id:"inputSpecies",onChange:function(e){return R("")||d(e.target.value)},value:l})]})})]}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col",children:Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"inputCommonName",className:"form-label",children:"Common Name"}),Object(i.jsx)("input",{type:"text",className:"form-control",id:"inputCommonName",onChange:function(e){return R("")||m(e.target.value)},value:u})]})}),Object(i.jsx)("div",{className:"col",children:Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"inputName",className:"form-label",children:"Name"}),Object(i.jsx)("input",{type:"text",className:"form-control",id:"inputName",onChange:function(e){return R("")||f(e.target.value)},value:v})]})})]}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col",children:Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"inputColor",className:"form-label",children:"Color"}),Object(i.jsx)("input",{type:"text",className:"form-control",id:"inputColor",onChange:function(e){return R("")||y(e.target.value)},value:C})]})}),Object(i.jsx)("div",{className:"col",children:Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"inputGender",className:"form-label",children:"Gender"}),Object(i.jsx)("input",{type:"text",className:"form-control",id:"inputGender",onChange:function(e){return R("")||H(e.target.value)},value:w})]})}),Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:"col",children:Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"inputPurchaseDate",className:"form-label",children:"Purchase Date"}),Object(i.jsx)("input",{type:"date",className:"form-control",id:"inputColor",onChange:function(e){return R("")||L(e.target.value)},value:T})]})})})]})]}),Object(i.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(a){a.preventDefault();var t=w.toUpperCase();e.addFish({genus:c,species:l,commonName:u,name:v,color:C,gender:w,uppercaseGender:t,purchaseDate:T})},children:"Submit"})]}),E&&Object(i.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:E})]})})]})})]})}))),C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,79)).then((function(a){var t=a.getCLS,s=a.getFID,c=a.getFCP,n=a.getLCP,r=a.getTTFB;t(e),s(e),c(e),n(e),r(e)}))};r.a.render(Object(i.jsx)(d,{}),document.getElementById("root")),C()},9:function(e){e.exports=JSON.parse('{"server":{"host":"localhost","port":8443,"baseURL":"http://localhost:8443/v1alpha1"}}')}},[[78,1,2]]]);
//# sourceMappingURL=main.6b54b78b.chunk.js.map