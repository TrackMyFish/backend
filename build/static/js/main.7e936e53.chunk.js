(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{170:function(e,t){},221:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},381:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),c=a(51),r=a.n(c),i=(a(199),a(221),a(222),a(170)),l=(a.n(i).a,a(29)),o=a(69),d=a(19),u=(a(223),a(3)),b=Object(l.a)((function(){return Object(u.jsx)(o.a,{children:Object(u.jsxs)(d.d,{children:[Object(u.jsx)(d.a,{exact:!0,from:"/",to:"/fish"}),Object(u.jsx)(d.b,{path:"/fish",component:g}),Object(u.jsx)(d.b,{path:"/tank",component:F})]})})})),j=a(87),h=a(9),m=a(41),p=a.n(m),f=a(42),O=new function e(){var t=this;Object(j.a)(this,e),this.fishState={fish:[],heartbeat:{fishbase:{status:""}},error:null},this.heartbeat=function(){p()({method:"get",headers:{"Content-Type":"application/json"},url:f.server.baseURL+"/heartbeat"}).then((function(e){Object(h.o)((function(){var a,s;t.fishState.heartbeat.fishbase.status=null===e||void 0===e||null===(a=e.data)||void 0===a||null===(s=a.fishbase)||void 0===s?void 0:s.status}))})).catch((function(e){var t;console.log(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},this.listFish=function(){p()({method:"get",headers:{"Content-Type":"application/json"},url:f.server.baseURL+"/fish"}).then((function(e){Object(h.o)((function(){t.fishState.fish=e.data.fish}))})).catch((function(e){var t;console.log(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},this.addFish=function(e){var a=e.type,s=e.subtype,n=e.color,c=e.gender,r=e.purchaseDate,i=e.count;""===c&&(c="UNSPECIFIED"),p()({method:"post",headers:{"Content-Type":"application/json"},url:f.server.baseURL+"/fish",data:{type:a,subtype:s,color:n,gender:c.toUpperCase(),purchaseDate:r,count:i}}).then((function(e){Object(h.o)((function(){var a;t.fishState.fish.push(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.fish)}))})).catch((function(e){Object(h.o)((function(){var a,s;console.log(e),t.fishState.error=null===e||void 0===e||null===(a=e.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message}))}))},this.removeFish=function(e){p()({method:"delete",headers:{"Content-Type":"application/json"},url:f.server.baseURL+"/fish/"+e}).then((function(){Object(h.o)((function(){t.fishState.fish=t.fishState.fish.filter((function(t){return t.id!==e}))}))})).catch((function(e){Object(h.o)((function(){var a,s;console.log(e),t.fishState.error=null===e||void 0===e||null===(a=e.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message}))}))},Object(h.l)(this)},v=n.a.createContext(O),x=new function e(){var t=this;Object(j.a)(this,e),this.tankState={stats:[],error:null},this.resetError=function(){t.tankState.error=null},this.listTankStatistics=function(){p()({method:"get",headers:{"Content-Type":"application/json"},url:f.server.baseURL+"/tank/statistics"}).then((function(e){Object(h.o)((function(){t.tankState.stats=e.data.tankStatistics}))})).catch((function(e){var t;console.log(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},this.addTankStatistic=function(e){var a=e.testDate,s=e.ammonia,n=e.ph,c=e.nitrate,r=e.nitrite,i=e.gh,l=e.kh,o=e.phosphate;t.resetError(),p()({method:"post",headers:{"Content-Type":"application/json"},url:f.server.baseURL+"/tank/statistics",data:{testDate:a,ammonia:s,ph:n,nitrate:c,nitrite:r,gh:i,kh:l,phosphate:o}}).then((function(e){Object(h.o)((function(){var a;t.tankState.stats.push(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.tankStatistic)}))})).catch((function(e){Object(h.o)((function(){var a,s;console.log(e),t.tankState.error=null===e||void 0===e||null===(a=e.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message}))}))},this.removeTankStatistic=function(e){p()({method:"delete",headers:{"Content-Type":"application/json"},url:f.server.baseURL+"/tank/statistics/"+e}).then((function(){Object(h.o)((function(){t.tankState.stats=t.tankState.stats.filter((function(t){return t.id!==e}))}))})).catch((function(e){Object(h.o)((function(){var a,s;console.log(e),t.tankState.error=null===e||void 0===e||null===(a=e.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message}))}))},Object(h.l)(this)},N=n.a.createContext(x),g=Object(l.a)((function(){var e=Object(s.useContext)(v),t=e.fishState,a=e.listFish,n=e.addFish,c=e.removeFish;return Object(s.useEffect)((function(){a()}),[t]),Object(u.jsxs)("div",{children:[Object(u.jsx)(k,{}),Object(u.jsx)("div",{className:"mt-3 mb-3"}),Object(u.jsx)(C,{fish:t.fish,addFish:n,removeFish:c,fishError:t.error})]})})),k=function(){return Object(u.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light",style:{backgroundColor:"#d7ecd9"},children:Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsx)("a",{className:"navbar-brand",href:"/",children:"TrackMyFish"}),Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(u.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(o.b,{className:"nav-link",to:"/fish",children:"Fish"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(o.b,{className:"nav-link",to:"/tank",children:"Tank"})}),Object(u.jsxs)("li",{className:"nav-item dropdown",children:[Object(u.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Useful Links"}),Object(u.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:Object(u.jsx)("li",{children:Object(u.jsx)("a",{className:"dropdown-item",href:"https://www.fishbase.de/",children:"Fishbase"})})})]})]})})]})})},S=a(16),y=a(93),C=(a(101),Object(l.a)((function(e){var t=Object(s.useState)(""),a=Object(S.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)(""),i=Object(S.a)(r,2),l=i[0],o=i[1],d=Object(s.useState)(""),b=Object(S.a)(d,2),j=b[0],h=b[1],m=Object(s.useState)(""),p=Object(S.a)(m,2),f=p[0],O=p[1],v=Object(s.useState)(""),x=Object(S.a)(v,2),N=x[0],g=x[1],k=Object(s.useState)(0),C=Object(S.a)(k,2),F=C[0],D=C[1],T=Object(s.useState)(""),H=Object(S.a)(T,2),E=H[0],w=H[1],R=e.fishError||E;return Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsx)("h3",{className:"text-center",children:"Fish"}),Object(u.jsx)(y.a,{data:e.fish,sortable:!0,pageSize:e.fish.length,columns:[{Header:"ID",accessor:"id",headerClassName:"text-start"},{Header:"Type",accessor:"type",headerClassName:"text-start"},{Header:"Subtype",accessor:"subtype",headerClassName:"text-start"},{Header:"Color",accessor:"color",headerClassName:"text-start"},{Header:"Gender",accessor:"gender",headerClassName:"text-start",Cell:function(e){var t=e.value;return"UNSPECIFIED"===t?"":t}},{Header:"Purchase Date",accessor:"purchaseDate",headerClassName:"text-start"},{Header:"Count",accessor:"count",headerClassName:"text-start"},{className:"text-center",Cell:function(t){return Object(u.jsx)("button",{className:"btn btn-danger ml-2",onClick:function(){return e.removeFish(t.original.id)},children:"Remove"})}}]}),Object(u.jsx)("div",{className:"accordion",id:"create-fish-accordion",children:Object(u.jsxs)("div",{className:"accordion-item",children:[Object(u.jsx)("h2",{className:"accordion-header",id:"fish-heading",children:Object(u.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse-fish","aria-expanded":"false","aria-controls":"collapse-fish",children:"Add Fish"})}),Object(u.jsx)("div",{id:"collapse-fish",className:"accordion-collapse collapse","aria-labelledby":"fish-heading","data-bs-parent":"#create-fish-accordion",children:Object(u.jsxs)("div",{className:"accordion-body",children:[Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:"container-fluid ps-0 pe-0",children:[Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"inputType",className:"form-label",children:"Type"}),Object(u.jsx)("input",{type:"text",className:"form-control",id:"inputType",onChange:function(e){return w("")||c(e.target.value)},value:n})]})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"inputSubtype",className:"form-label",children:"Subtype"}),Object(u.jsx)("input",{type:"text",className:"form-control",id:"inputSubtype",onChange:function(e){return w("")||o(e.target.value)},value:l})]})})]}),Object(u.jsx)("div",{className:"row"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"inputColor",className:"form-label",children:"Color"}),Object(u.jsx)("input",{type:"text",className:"form-control",id:"inputColor",onChange:function(e){return w("")||h(e.target.value)},value:j})]})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"inputGender",className:"form-label",children:"Gender"}),Object(u.jsx)("input",{type:"text",className:"form-control",id:"inputGender",onChange:function(e){return w("")||O(e.target.value)},value:f})]})}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"inputPurchaseDate",className:"form-label",children:"Purchase Date"}),Object(u.jsx)("input",{type:"date",className:"form-control",id:"inputPurchaseDate",onChange:function(e){return w("")||g(e.target.value)},value:N})]})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"inputCount",className:"form-label",children:"Count"}),Object(u.jsx)("input",{type:"number",className:"form-control",id:"inputCount",min:"0",onChange:function(e){return w("")||D(e.target.value)},value:F})]})})]})]})]}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(t){t.preventDefault();var a=f.toUpperCase();e.addFish({type:n,subtype:l,color:j,gender:f,uppercaseGender:a,purchaseDate:N,count:F})},children:"Submit"})]}),R&&Object(u.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:R})]})})]})})]})}))),F=Object(l.a)((function(){var e=Object(s.useContext)(N),t=e.tankState,a=e.resetError,n=e.listTankStatistics,c=e.addTankStatistic,r=e.removeTankStatistic;return Object(s.useEffect)((function(){n()}),[t]),Object(u.jsxs)("div",{children:[Object(u.jsx)(k,{}),Object(u.jsx)("div",{className:"mt-3 mb-3"}),Object(u.jsx)(D,{tankStatistics:t.stats,addTankStatistic:c,removeTankStatistic:r,tankStatisticsError:t.error,resetError:a}),Object(u.jsx)("div",{className:"mt-3 mb-3"}),Object(u.jsx)(L,{tankStatistics:t.stats})]})})),D=Object(l.a)((function(e){var t=Object(s.useState)(""),a=Object(S.a)(t,2),n=a[0],c=a[1],r=Object(s.useRef)(null),i=Object(s.useRef)(null),l=Object(s.useRef)(null),o=Object(s.useRef)(null),d=Object(s.useRef)(null),b=Object(s.useRef)(null),j=Object(s.useRef)(null);return Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsx)("h3",{className:"text-center",children:"Tank Statistics"}),Object(u.jsx)(y.a,{data:e.tankStatistics,sortable:!0,pageSize:e.tankStatistics.length,columns:[{Header:"ID",accessor:"id",headerClassName:"text-start"},{Header:"Test Date",accessor:"testDate",headerClassName:"text-start"},{Header:"Ammonia",accessor:"ammonia",headerClassName:"text-start"},{Header:"pH",accessor:"ph",headerClassName:"text-start"},{Header:"Nitite",accessor:"nitrite",headerClassName:"text-start"},{Header:"Nitrate",accessor:"nitrate",headerClassName:"text-start"},{Header:"GH",accessor:"gh",headerClassName:"text-start"},{Header:"KH",accessor:"kh",headerClassName:"text-start"},{Header:"Phosphate",accessor:"phosphate",headerClassName:"text-start"},{className:"text-center",Cell:function(t){return Object(u.jsx)("button",{className:"btn btn-danger ml-2",onClick:function(){return e.removeTankStatistic(t.original.id)},children:"Remove"})}}]}),Object(u.jsx)("div",{className:"accordion",id:"create-tank-statistic-accordion",children:Object(u.jsxs)("div",{className:"accordion-item",children:[Object(u.jsx)("h2",{className:"accordion-header",id:"fish-heading",children:Object(u.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse-tank-statistic","aria-expanded":"false","aria-controls":"collapse-tank-statistic",children:"Add Tank Statistics"})}),Object(u.jsx)("div",{id:"collapse-tank-statistic",className:"accordion-collapse collapse","aria-labelledby":"fish-heading","data-bs-parent":"#create-tank-statistic-accordion",children:Object(u.jsxs)("div",{className:"accordion-body",children:[Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:"container-fluid ps-0 pe-0",children:[Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"inputTestDate",className:"form-label",children:"Test Date"}),Object(u.jsx)("input",{type:"date",className:"form-control",id:"inputTestDate",onChange:function(e){return c(e.target.value)},value:n})]})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"inputPH",className:"form-label",children:"pH"}),Object(u.jsx)("input",{type:"number",step:"0.01",className:"form-control",id:"inputPH",placeholder:"pH",ref:r,onChange:function(){return e.tankStatisticsError&&e.resetError()}})]})})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"inputAmmonia",className:"form-label",children:"Ammonia"}),Object(u.jsx)("input",{type:"number",step:"0.01",className:"form-control",id:"inputAmmonia",placeholder:"Ammonia (ppm)",ref:i,onChange:function(){return e.tankStatisticsError&&e.resetError()}})]})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"inputNitrite",className:"form-label",children:"Nitrite (NO2)"}),Object(u.jsx)("input",{type:"number",step:"0.01",className:"form-control",id:"inputNitrite",placeholder:"Nitrite (ppm)",ref:o,onChange:function(){return e.tankStatisticsError&&e.resetError()}})]})})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"inputNitrate",className:"form-label",children:"Nitrate (NO3)"}),Object(u.jsx)("input",{type:"number",step:"0.01",className:"form-control",id:"inputNitrate",placeholder:"Nitrate (ppm)",ref:l,onChange:function(){return e.tankStatisticsError&&e.resetError()}})]})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"inputPhosphate",className:"form-label",children:"Phosphate (PO4)"}),Object(u.jsx)("input",{type:"number",step:"0.01",className:"form-control",id:"inputPhosphate",placeholder:"Phosphate (ppm)",ref:j,onChange:function(){return e.tankStatisticsError&&e.resetError()}})]})})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"inputGH",className:"form-label",children:"GH"}),Object(u.jsx)("input",{type:"number",step:"0.01",className:"form-control",id:"inputGH",placeholder:"GH",ref:d,onChange:function(){return e.tankStatisticsError&&e.resetError()}})]})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"inputKH",className:"form-label",children:"KH"}),Object(u.jsx)("input",{type:"number",step:"0.01",className:"form-control",id:"inputKH",placeholder:"KH",ref:b,onChange:function(){return e.tankStatisticsError&&e.resetError()}})]})})]})]}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(t){t.preventDefault(),e.addTankStatistic({testDate:n,ammonia:i.current.value?i.current.value:null,ph:r.current.value?r.current.value:null,nitrate:l.current.value?l.current.value:null,nitrite:o.current.value?o.current.value:null,gh:d.current.value?d.current.value:null,kh:b.current.value?b.current.value:null,phosphate:j.current.value?j.current.value:null})},children:"Submit"})]}),e.tankStatisticsError&&Object(u.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:e.tankStatisticsError})]})})]})})]})})),T=a(383),H=a(384),E=a(388),w=a(187),R=a(188),P=a(78),K=a(75),U=a(190),L=Object(l.a)((function(e){var t=e.tankStatistics.filter((function(e){return""!==e.testDate})).sort((function(e,t){return new Date(e.testDate)-new Date(t.testDate)}));return Object(u.jsx)(T.a,{width:"50%",height:"50%",children:Object(u.jsxs)(H.a,{data:t,margin:{top:5,right:20,left:10,bottom:5},children:[Object(u.jsx)(E.a,{strokeDasharray:"3 3"}),Object(u.jsx)(w.a,{dataKey:"testDate",padding:{left:30,right:30}}),Object(u.jsx)(R.a,{}),Object(u.jsx)(P.a,{}),Object(u.jsx)(K.a,{}),Object(u.jsx)(U.a,{connectNulls:!0,type:"monotone",dataKey:"ammonia",stroke:"#ff7300"}),Object(u.jsx)(U.a,{connectNulls:!0,type:"monotone",dataKey:"ph",stroke:"#387908"}),Object(u.jsx)(U.a,{connectNulls:!0,type:"monotone",dataKey:"nitrite",stroke:"#ff008c"}),Object(u.jsx)(U.a,{connectNulls:!0,type:"monotone",dataKey:"nitrate",stroke:"#0077ff"}),Object(u.jsx)(U.a,{connectNulls:!0,type:"monotone",dataKey:"gh",stroke:"#aa00ff"}),Object(u.jsx)(U.a,{connectNulls:!0,type:"monotone",dataKey:"kh",stroke:"#ff0011"}),Object(u.jsx)(U.a,{connectNulls:!0,type:"monotone",dataKey:"phosphate",stroke:"#5c5c5c"})]})})})),G=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,390)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),c(e),r(e)}))};r.a.render(Object(u.jsx)(b,{}),document.getElementById("root")),G()},42:function(e){e.exports=JSON.parse('{"server":{"host":"localhost","port":8443,"baseURL":"/api/v1alpha1"}}')}},[[381,1,2]]]);
//# sourceMappingURL=main.7e936e53.chunk.js.map